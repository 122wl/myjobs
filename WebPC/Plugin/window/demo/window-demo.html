<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <title>弹窗测试</title>

    <script src="/Scripts/jquery-1.10.2.js"></script>
    <script src="/Scripts/public.js"></script>
    <script src="../jquery-window.js"></script>
    <link href="../css/common.css" rel="stylesheet" />
    <style>
        body {
            font-family: 'Microsoft Yahei';
        }
    </style>
</head>
<body>
    <div id="windowTest" style="display: none;height: 1000px">
        这里面放置window内容
        <input id="closeWindow1" type="button" name="test" onclick="closeWindow1()" value="测试内部window" />
    </div>
    <!--
        data-title:窗口标题
        data-func：窗口功能
        data-id:窗口ID
        data-show-btn：是否显示确定取消按钮
        data-callback:回调函数
        data-ele:绑定元素的id与data-url互斥
        data-url:窗口中加载的页面地址
        data-width:窗口宽度
        data-height:窗口高度
        -->
    <a href="javascript:void(0)"
       data-title="测试窗口"
       data-func="openWin"
       data-id="newWin"
       data-show-btn="true"
       data-callback="testCallback"
       data-beforeClose="testBeforeClose"
       data-ele=""
       data-url="../../form/demo/ajaxSubmitFilter.html"
       data-width="500"
       data-height="300">win0</a>

    <a href="javascript:void(0)" data-title="测试窗口1" data-func="openWin" data-id="newWin1"
       data-show-btn="true" data-beforeOpen="testBeforeOpen" data-beforeclose="testBeforeClose" data-callback="testCallback1" data-ele="windowTest" data-width="500" data-height="300">win1</a>
    <a href="javascript:void(0)" onclick="testAlert()">测试alert</a>
    <!--<input type="button" name="" onclick="testWin()" value="test" />-->
    <input type="button" name="" onclick="clearWin()" value="手动关闭" />
    <script>
        function testBeforeClose(status) {
            alert("会给你个值 status:false 点的是取消，status:true点的是确定。关闭之前执行，返回false就不关闭");
            return true;
        }
        function testBeforeOpen() {
            alert("这里做数据初始化，窗口打开之前执行，返回true就继续打开，false就不打开了");
            return false;
        }
        function testCallback(obj) {
            alert(obj.status);
        }
        function testCallback1(obj) {
            alert(obj.status);
        }

        function testAlert() {
            $.alert("test");
            //$.alert("test", "success");
            //$.alert("test", "warn");
            //$.alert("test", "message");
            //$.alert("test", "idea");
        }
        function clearWin() {
            $.closeWindow({
                status: false,
                data: { name: "window0" }
            });
        }
        function closeWindow1() {
            $.closeWindow({
                status: false,
                data: { name: "window1" }
            });
        }
    </script>
</body>
</html>

<!DOCTYPE html>
<html>
	<head>
		<meta charset="utf-8" />
		<title></title>
		
	</head>
	<body>
		<button id="addNewObserver">Add New Observer checkbox</button>
		<input id="mainCheckbox" type="checkbox" />
		<div id="observersContainer"></div>
	</body>
</html>
<script src="js/observer.js"></script>
<script>
var controlCheckbox = document.getElementById("mainCheckbox"),
	addBtn = document.getElementById("addNewObserver"),
	container = document.getElementById("observersContainer");
	extend(new Subject(),controlCheckbox);
	controlCheckbox["onclick"] = new Function("controlCheckbox.Notify(controlCheckbox.checked)");
	addBtn["onclick"] = AddNewObserver;
	function AddNewObserver(){
		var check = document.createElement("input");
		check.type = "checkbox";
		extend(new Observer(),check);
		check.Update = function(value) {
			console.log("check update");
			this.checked = value;
		};
		controlCheckbox.AddObserver(check);
		container.appendChild(check);
	}
</script>